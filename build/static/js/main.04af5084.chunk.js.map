{"version":3,"sources":["Components/DirectSelect.module.css","Tabs/WSField/index.module.css","defaultSettings.js","appSettings.js","Components/DirectEditorsContext.js","Components/TabContainer.js","Components/Button.js","Components/DirectCheckbox.js","Components/FieldSet.js","Tabs/File/index.js","Components/DirectSelect.js","lib/mapUtil.js","Tabs/WSField/index.js","Tabs/Game/index.js","Components/DirectInput.js","Tabs/Players/index.js","Math/game.js","Tabs/PlayerStats/index.js","Components/PlayersSelector.js","Tabs/TimeToCollect/index.js","App.js","serviceWorker.js","index.js","Tabs/Players/index.module.css","Tabs/TimeToCollect/index.module.css","Components/FieldSet.module.css","App.module.css","Tabs/PlayerStats/index.module.css","Tabs/File/index.module.css","Components/PlayersSelector.module.css","Components/TabContainer.module.css","Components/Button.module.css"],"names":["module","exports","defaultSettings","host","process","REACT_APP_HOST","port","REACT_APP_PORT","backendURL","emptySymbol","Symbol","listenersSymbol","compilePointer","pointer","split","Error","Array","isArray","createInnerModifyCb","cb","draft","result","jsonpointer","get","set","enablePatches","BaseContext","enableSave","unsavedChanges","unsavedInverseChanges","syncTimeout","substr","value","modify","main","option","shouldUpdate","timeout","nextValue","produce","patches","inversePatches","push","setTimeout","sync","clearTimeout","prevValue","onChange","length","axios","post","filename","catch","e","createChildContext","previosContext","ChildContext","this","useState","setInternalValue","setValue","useCallback","parentCb","useEffect","addChangeListener","removeChangeListener","EventEmitter","RootContext","initialValue","listenersTree","_","cloneDeep","parts","treeNode","i","key","listeners","index","indexOf","splice","cascadeDeleteChangeListeners","current","Object","keys","pop","console","log","onChangeRec","forEach","pv","undefined","nv","getRootContext","basepath","Context","createContext","WithNestedContext","children","prevContext","useContext","nextContext","setNextContext","updatedContext","Provider","DirectEditorsContext","contextRef","useRef","TabContainer","className","styles","container","Button","props","variant","color","disableElevation","DirectCheckbox","label","disabled","handleChange","event","boolValue","target","checked","control","useMemo","Checkbox","FormControlLabel","defaultsDeep","editor","collapse","FieldSet","checkboxPointer","designLess","context","collapseBoolPointer","collapsed","showChildren","title","titleTextOnly","FormGroup","revision","gameType","File","files","setFiles","changeTracker","setChangeTracker","setFilename","reload","Axios","then","data","addFile","test","settings","assign","alert","archivedFilter","setArchivedFilter","name","row","onClick","filter","map","mtime","basename","selected","filenameLabel","labelPlacement","mtimeLabel","moment","format","localStorage","setItem","a","window","prompt","resp","error","confirm","location","href","TextField","size","stringValue","DirectSelect","options","onBeforeSet","FormControl","margin","InputLabel","selectLabel","Select","MenuItem","getHexagonColor","sector","hexColor","type","hydro","ws","field","sectors","A1","asteroids","A2","A3","A4","B1","B2","B3","B4","B5","C1","C2","C3","C4","C5","C6","D1","D2","D3","D4","D5","D6","D7","E1","E2","E3","E4","E5","E6","F1","F2","F3","F4","F5","G1","G2","G3","G4","supportedCellTypes","asteroidsCount","hydroAmount","Hexagon","place","hexagonContainer","style","trapezoidUpOut","trapezoidDownOut","trapezoidUpIn","trapezoidDownIn","hexLabel","cellType","ChestField","mapContainer","lineA","lineB","lineC","lineD","lineE","lineF","lineG","supportedGameTypes","Extras","gameConfig","find","y","extra","C","parsers","string","isValid","parse","number","isNaN","Number","parseFloat","DirectInput","multiplier","helperText","units","defaultValue","inputProps","parser","text","contextValue","setContextValue","setIsValid","_inputProps","endAdornment","InputAdornment","position","parsed","InputProps","players","Players","setPlayers","addPlayer","removePlayer","playerToDelete","x","verticalLabels","width","background","player","miningSpeed","getMiningSpeed","minerLevel","miningBoost","getMiningBoost","miningBoostLevel","remoteMining","getRemoteMining","remoteMiningLevel","PlayerStats","capacity","PlayersSelector","availablePlayers","playerName","playerOptions","v","minusButton","minerGroups","colors","getUnusedColor","some","getWaypoints","minerGroup","path","App","AppTabs","tabsByFileType","tabsConfig","render","Game","WSField","TimeToCollect","setMinerGroups","hexagons","GridGenerator","hexagon","strToHexagon","letters","shifts","shortcut","q","s","mapToRegularNames","addMiningGroup","removeMiningGroup","groupToRemove","twoColumnLayout","columnOne","height","flat","spacing","hex","cell","replace","r","cellName","waypoints","from","to","stroke","strokeWidth","strokeLinecap","start","end","columnTwo","columnLayout","totalWaterAmount","reduce","c","totalWaterCapacity","acc","miningSpeedPerAsteroid","totalMovementTimeHrs","totalMiningTimeHrs","column","columnLabel","keepTopRight","toFixed","contextFilename","isLoaded","parseInt","getItem","selectedTab","setSelectedTab","showBackdrop","setShowBackdrop","warn","visibleTabs","transformResponse","res","currentValue","errorCount","patch","JSON","action","applyPatches","payload","valueWithDefaults","AppBar","Toolbar","Typography","menu","Tabs","orientation","tabs","newValue","aria-label","Tab","content","Paper","elevation","React","createElement","Backdrop","open","backdrop","CircularProgress","Boolean","hostname","match","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.04af5084.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectLabel\":\"DirectSelect_selectLabel__1SGL6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"mapContainer\":\"WSField_mapContainer__2pkEj\",\"hexagonContainer\":\"WSField_hexagonContainer__3Wumq\",\"trapezoidUpOut\":\"WSField_trapezoidUpOut__2rSzF\",\"trapezoidDownOut\":\"WSField_trapezoidDownOut__3LHow\",\"trapezoidUpIn\":\"WSField_trapezoidUpIn__1UbrC\",\"trapezoidDownIn\":\"WSField_trapezoidDownIn__2zCDP\",\"A1\":\"WSField_A1__2GwA6\",\"B1\":\"WSField_B1__1Jtrw\",\"C1\":\"WSField_C1__2h60E\",\"D1\":\"WSField_D1__XfQOW\",\"E1\":\"WSField_E1__9JWCp\",\"F1\":\"WSField_F1__1U0ms\",\"G1\":\"WSField_G1__cLlDH\",\"A2\":\"WSField_A2__29Zv6\",\"B2\":\"WSField_B2__1fhRH\",\"C2\":\"WSField_C2__f0Rbi\",\"D2\":\"WSField_D2__MZDge\",\"E2\":\"WSField_E2__2cp3u\",\"F2\":\"WSField_F2__3jw7R\",\"G2\":\"WSField_G2__1fKUm\",\"A3\":\"WSField_A3__2wBAv\",\"B3\":\"WSField_B3__bKn0Q\",\"C3\":\"WSField_C3__11p5H\",\"D3\":\"WSField_D3__1HjH1\",\"E3\":\"WSField_E3__5-eRB\",\"F3\":\"WSField_F3__26mbx\",\"G3\":\"WSField_G3__2emw4\",\"A4\":\"WSField_A4__3B3-R\",\"B4\":\"WSField_B4__3odVy\",\"C4\":\"WSField_C4__1SczW\",\"D4\":\"WSField_D4__2UwSK\",\"E4\":\"WSField_E4__2xd09\",\"F4\":\"WSField_F4__3DCyY\",\"G4\":\"WSField_G4__1zOnZ\",\"B5\":\"WSField_B5__QlOPw\",\"C5\":\"WSField_C5__2VaBa\",\"D5\":\"WSField_D5__xgLz8\",\"E5\":\"WSField_E5__1uCuG\",\"F5\":\"WSField_F5__3lM3t\",\"C6\":\"WSField_C6__22oAh\",\"D6\":\"WSField_D6__2wo5N\",\"E6\":\"WSField_E6__2r97j\",\"D7\":\"WSField_D7__1Thsq\",\"lineA\":\"WSField_lineA__5h5Kj\",\"lineB\":\"WSField_lineB__25vcr\",\"lineC\":\"WSField_lineC__2tg4Q\",\"lineD\":\"WSField_lineD__2RBoc\",\"lineE\":\"WSField_lineE__1ICtD\",\"lineF\":\"WSField_lineF__yP4GR\",\"lineG\":\"WSField_lineG__3yw7Y\",\"hexLabel\":\"WSField_hexLabel__6Bbr-\",\"cellType\":\"WSField_cellType__2g9he\",\"hydro\":\"WSField_hydro__2h_CG\",\"asteroids\":\"WSField_asteroids__1m0kP\"};","export const defaultSettings = {\n}\n","\nconst host = process.env.REACT_APP_HOST || 'localhost'\nconst port = process.env.REACT_APP_PORT || 3032\nexport const backendURL = `${host === 'localhost' ? 'http' : 'https'}://${host}${port !== 80 ? ':' + port : ''}/api`\n","import React, { createContext, useEffect, useContext, useState, useRef, useCallback } from 'react'\nimport jsonpointer from 'jsonpointer'\nimport produce, { enablePatches } from 'immer'\nimport EventEmitter from '@lvchengbin/event-emitter'\nimport { defaultSettings } from '../defaultSettings'\nimport axios from 'axios'\nimport { backendURL } from '../appSettings'\nimport _ from 'lodash'\n\nconst emptySymbol = Symbol('empty')\nconst listenersSymbol = Symbol('listeners')\n\nenablePatches()\n\nfunction compilePointer(pointer) {\n  if (typeof pointer === 'string') {\n    pointer = pointer.split('/')\n    if (pointer[0] === '') return pointer\n    throw new Error('Invalid JSON pointer.')\n  } else if (Array.isArray(pointer)) {\n    return pointer\n  }\n  throw new Error('Invalid JSON pointer.')\n}\n\nfunction createInnerModifyCb(pointer, cb) {\n  return (draft) => {\n    const result = cb(jsonpointer.get(draft, pointer))\n    if (typeof result !== 'undefined') {\n      jsonpointer.set(draft, pointer, result)\n    }\n  }\n}\n\nclass BaseContext extends EventEmitter {\n  enableSave = false\n  unsavedChanges = [];\n  unsavedInverseChanges = [];\n  syncTimeout = 0;\n  getRootContext() {\n    return this\n  }\n  get basepath() {\n    return ''\n  }\n  get = (pointer) => {\n    if (pointer[0] === '~') {\n      pointer = pointer.substr(1)\n    }\n    return jsonpointer.get(this.value, pointer)\n  }\n  set = (pointer, value) => this.modify(main => {\n    if (pointer[0] === '~') {\n      pointer = pointer.substr(1)\n    }\n    jsonpointer.set(main, pointer, value)\n  })\n  modify = (option, cb) => {\n    if (!cb) {\n      cb = option\n    }\n    let shouldUpdate = this.enableSave\n    if (option === 'dontSendUpdateToServer') {\n      shouldUpdate = false\n    }\n    let timeout = 200\n    if (option === 'instant') {\n      timeout = 0\n    }\n    const nextValue = produce(this.value, cb,\n      (patches, inversePatches) => {\n        if (shouldUpdate) {\n          this.unsavedChanges.push(...patches)\n          this.unsavedInverseChanges.push(...inversePatches)\n          if (!this.syncTimeout) {\n            this.syncTimeout = setTimeout(this.sync, timeout)\n          }\n        } else {\n          clearTimeout(this.syncTimeout)\n          this.unsavedChanges = []\n          this.unsavedInverseChanges = []\n        }\n      })\n    if (nextValue !== this.value) {\n      const prevValue = this.value\n      this.value = nextValue\n      this.onChange(prevValue, nextValue)\n    }\n  }\n  sync = () => {\n    if (this.unsavedChanges.length) {\n      axios.post(backendURL + '/file/' + this.value.filename, this.unsavedChanges).catch(e => {\n        // window.location.reload()\n      })\n      this.unsavedChanges = []\n      this.unsavedInverseChanges = []\n    }\n    this.syncTimeout = 0\n  }\n  createChildContext = (pointer, previosContext) => {\n    if (previosContext && previosContext.value === jsonpointer.get(this.value, pointer)) {\n      return previosContext\n    }\n    return new ChildContext(this, pointer)\n  }\n\n  onChange(prevValue, nextValue) {\n    // empty\n  }\n\n  addChangeListener(pointer, cb) {\n    throw new Error('Abstract')\n  }\n\n  removeChangeListener(pointer, cb) {\n    throw new Error('Abstract')\n  }\n  \n  useState(pointer) {\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    let [value, setInternalValue] = useState(emptySymbol)\n    if (value === emptySymbol) {\n      value = this.get(pointer)\n    }\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const setValue = useCallback((nextValue) => {\n      if (typeof nextValue === 'function') {\n        const parentCb = createInnerModifyCb(pointer, nextValue)\n        this.modify(parentCb)\n      } else {\n        this.set(pointer, nextValue)\n      }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [this, pointer])\n\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    useEffect(() => {\n      this.addChangeListener(pointer, setInternalValue)\n      return () => {\n        this.removeChangeListener(pointer, setInternalValue)\n      }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [this, pointer, setValue])\n    return [value, setValue]\n  }\n}\n\nclass RootContext extends BaseContext {\n  enableSave = true;\n  // _value = null;\n  // _history = [];\n  // get value() {\n  //   return this._value;\n  // }\n  // set value(nextValue) {\n  //   this._history.push(this._value);\n  //   if (this._history.length > 100) {\n  //     this._history.splice(0, 1);\n  //   }\n  //   this._value = nextValue;\n  // }\n  // undo() {\n  //   this.value = this._history[this._history.length - 1];\n  // }\n  constructor(initialValue) {\n    super()\n    this.value = initialValue\n  }\n\n  cloneDeep() {\n    return new RootContext(_.cloneDeep(this.value))\n  }\n\n  listenersTree = {};\n\n  addChangeListener(pointer, cb) {\n    if (pointer[0] === '~') {\n      pointer = pointer.substr(1)\n    }\n    const parts = compilePointer(pointer)\n    let treeNode = this.listenersTree\n    for (let i = 1; i < parts.length; i++) {\n      const key = parts[i]\n      if (!treeNode[key]) {\n        treeNode[key] = {}\n      }\n      treeNode = treeNode[key]\n    }\n    if (!treeNode[listenersSymbol]) {\n      treeNode[listenersSymbol] = []\n    }\n    treeNode[listenersSymbol].push(cb)\n  }\n\n  removeChangeListener(pointer, cb) {\n    if (pointer[0] === '~') {\n      pointer = pointer.substr(1)\n    }\n    const treeNode = jsonpointer.get(this.listenersTree, pointer)\n    const listeners = treeNode[listenersSymbol]\n    const index = listeners.indexOf(cb)\n    if (index !== -1) {\n      listeners.splice(index, 1)\n    }\n    if (listeners.length === 0) {\n      delete treeNode[listenersSymbol]\n      this.cascadeDeleteChangeListeners(compilePointer(pointer))\n    }\n  }\n\n  cascadeDeleteChangeListeners(pointer) {\n    const current = jsonpointer.get(this.listenersTree, pointer)\n    if (!Object.keys(current).length && !current[listenersSymbol]) {\n      const key = pointer.pop() // !!! pointer changed to parent\n      delete jsonpointer.get(this.listenersTree, pointer)[key]\n      if (pointer.length > 1) {\n        this.cascadeDeleteChangeListeners(pointer)\n      }\n    }\n  }\n\n  onChange(prevValue, nextValue) {\n    console.log('context value', nextValue)\n    this.onChangeRec(prevValue, nextValue, this.listenersTree)\n  }\n\n  onChangeRec(prevValue, nextValue, treeNode) {\n    if (treeNode[listenersSymbol]) {\n      treeNode[listenersSymbol].forEach((cb) => {\n        cb(nextValue)\n      })\n    }\n    for (const key in treeNode) {\n      const pv = (prevValue === undefined) ? undefined : prevValue[key]\n        const nv = (nextValue === undefined) ? undefined : nextValue[key]\n      if (pv !== nv) {\n        this.onChangeRec(pv, nv, treeNode[key])\n      }\n    }\n  }\n}\n\nclass ChildContext extends BaseContext {\n  constructor(previosContext, pointer) {\n    super()\n    this.previosContext = previosContext\n    this.pointer = pointer\n  }\n\n  get basepath() {\n    return this.previosContext.basepath + this.pointer\n  }\n  getRootContext() {\n    return this.previosContext.getRootContext()\n  }\n  get value() {\n    return this.previosContext.get(this.pointer)\n  }\n  set value(value) {\n    this.previosContext.set(this.pointer, value)\n  }\n\n  get = (pointer) => {\n    if (pointer[0] === '~') {\n      return this.getRootContext().get(pointer)\n    }\n    return jsonpointer.get(this.value, pointer)\n  }\n  set = (pointer, value) => {\n    if (pointer[0] === '~') {\n      return this.getRootContext().set(pointer, value)\n    }\n    return this.modify(main => {\n      jsonpointer.set(main, pointer, value)\n    })\n  }\n  addChangeListener(pointer, cb) {\n    if (pointer[0] === '~') {\n      return this.getRootContext().addChangeListener(pointer, cb)\n    }\n    return this.previosContext.addChangeListener(this.pointer + pointer, cb)\n  }\n  removeChangeListener(pointer, cb) {\n    if (pointer[0] === '~') {\n      return this.getRootContext().removeChangeListener(pointer, cb)\n    }\n    return this.previosContext.removeChangeListener(this.pointer + pointer, cb)\n  }\n  modify = (option, cb) => {\n    if (!cb) {\n      cb = option\n      option = undefined\n    }\n    const parentCb = createInnerModifyCb(this.pointer, cb)\n    this.previosContext.modify(option || parentCb, option ? parentCb : undefined)\n  }\n}\n\nexport const Context = createContext()\n\nexport const WithNestedContext = ({ pointer, children }) => {\n  const prevContext = useContext(Context)\n  if (typeof prevContext.get(pointer) !== 'object') {\n    prevContext.set(pointer, {})\n  }\n  const [nextContext, setNextContext] = useState(prevContext)\n  const updatedContext = prevContext.createChildContext(pointer, nextContext)\n  if (updatedContext !== nextContext) {\n    setNextContext(updatedContext)\n  }\n  return <Context.Provider value={updatedContext}>\n    {children}\n  </Context.Provider>\n}\n\nconst DirectEditorsContext = ({ children }) => {\n  const contextRef = useRef(null)\n  if (contextRef.current === null) {\n    contextRef.current = new RootContext(defaultSettings)\n  }\n  return <Context.Provider value={contextRef.current}>\n    {children}\n  </Context.Provider>\n}\n\nexport default DirectEditorsContext\n","import React from 'react'\nimport styles from './TabContainer.module.css'\n\nconst TabContainer = ({ children }) => {\n  return <div className={styles.container}>\n    {children}\n  </div>\n}\n\nexport default TabContainer\n","import React from 'react'\nimport { Button as ButtonImpl } from '@material-ui/core'\n\nimport styles from './Button.module.css'\n\nconst Button = (props) => {\n  return <ButtonImpl\n    className={`${styles.main} ${props.className}`}\n    variant=\"outlined\"\n    color=\"primary\"\n    disableElevation\n    {...props}\n  />\n}\n\nexport default Button\n","import React, { useContext, useCallback, useMemo } from 'react'\nimport { Checkbox, FormControlLabel } from '@material-ui/core'\n\nimport { Context } from './DirectEditorsContext'\n\nconst DirectCheckbox = ({ label, pointer, disabled }) => {\n  const context = useContext(Context)\n  const [value, setValue] = context.useState(pointer)\n\n  const handleChange = useCallback(event => {\n    const boolValue = event.target.checked\n    setValue(boolValue)\n  }, [setValue])\n\n  const control = useMemo(() => <Checkbox disabled={disabled} color=\"default\" checked={!!value} onChange={handleChange} />, [disabled, handleChange, value])\n  return <FormControlLabel\n    control={control}\n    label={label}\n  />\n}\n\nexport default DirectCheckbox\n","import React, { useContext } from 'react'\nimport styles from './FieldSet.module.css'\nimport { Context, WithNestedContext } from './DirectEditorsContext'\nimport DirectCheckbox from './DirectCheckbox'\nimport { FormGroup } from '@material-ui/core'\nimport _ from 'lodash'\n\nimport { defaultSettings } from '../defaultSettings'\n\n_.defaultsDeep(defaultSettings, {\n  editor: {\n    collapse: {},\n  },\n})\n\nconst FieldSet = ({ label, pointer, checkboxPointer, children, designLess }) => {\n  const context = useContext(Context)\n  const collapseBoolPointer = '~/editor/collapse' + context.basepath + (checkboxPointer || pointer) + '_$'\n  const [collapsed] = context.useState(collapseBoolPointer)\n  const showChildren = ((pointer || checkboxPointer) && !designLess) ? !collapsed : true\n  const main = <div className={styles.container + (designLess ? ' ' + styles.designLess : '') + (!showChildren ? ' ' + styles.collapsed : '')}>\n    {label && <div className={styles.title}>\n      {((pointer || checkboxPointer) && !designLess)\n        ? <DirectCheckbox label={label} pointer={collapseBoolPointer} />\n        : <div className={styles.titleTextOnly}>{label}</div>}\n    </div>}\n    {showChildren \n      ? <FormGroup>{children}</FormGroup>\n      : null}\n  </div>\n  if (pointer) {\n    return <WithNestedContext pointer={pointer}>\n      {main}\n    </WithNestedContext>\n  } else {\n    return main\n  }\n}\n\nexport default FieldSet\n","import React, { useContext, useState, useEffect, useCallback } from 'react'\n\nimport TabContainer from '../../Components/TabContainer'\nimport Button from '../../Components/Button'\nimport { Context } from '../../Components/DirectEditorsContext'\nimport { FormGroup, TextField, FormControlLabel } from '@material-ui/core'\nimport _ from 'lodash'\nimport moment from 'moment'\n\nimport FieldSet from '../../Components/FieldSet'\n\nimport { defaultSettings } from '../../defaultSettings'\nimport Axios from 'axios'\nimport { backendURL } from '../../appSettings'\n\nimport styles from './index.module.css'\n\n_.defaultsDeep(defaultSettings, {\n  revision: 0,\n  filename: '',\n  gameType: 'absent',\n})\n\nconst File = () => {\n  const context = useContext(Context)\n\n  const [files, setFiles] = useState([])\n  const [changeTracker, setChangeTracker] = useState(0)\n  const [filename, setFilename] = useState('')\n\n  const reload = useCallback(() => {\n    setChangeTracker(changeTracker + 1)\n  }, [changeTracker])\n\n  useEffect(() => {\n    Axios.get(backendURL + '/list').then(({ data: files }) => {\n      setFiles(files)\n    })\n  }, [changeTracker])\n\n  const addFile = useCallback(() => {\n    if (!/^[a-z0-9_-]{5,}$/.test(filename)) {\n      alert('Filename must contain a-z, 0-9, \"_\", \"-\" symbols and length should be at least at least 5')\n      return\n    }\n    // support server pruning\n    // whole object replace fails on server side\n    // for unknown reason\n    context.modify('dontSendUpdateToServer', () => ({}))\n    context.modify('instant', (draft) => {\n      const settings = {\n        ...defaultSettings,\n        gameType: 'unknown',\n      }\n      Object.assign(draft, settings)\n      draft.filename = filename\n    })\n    setTimeout(() => {\n      reload()\n    }, 700)\n  }, [context, filename, reload])\n\n  const [archivedFilter, setArchivedFilter] = useState(false)\n\n  return <TabContainer name=\"Field\">\n    <FormGroup row={true}>\n      {!archivedFilter &&\n      <Button onClick={() => setArchivedFilter(true)}>Показать архив</Button>}\n      {archivedFilter &&\n      <Button onClick={() => setArchivedFilter(false)}>Скрыть архив</Button>}\n    </FormGroup>\n    {files\n    .filter(({ name }) => {\n      return archivedFilter\n        ? name[0] === '_'\n        : name[0] !== '_'\n    })\n    .map(({ name: filename, mtime }) => {\n      const [basename] = filename.split('.')\n      return <FormGroup className={basename === context.value.filename ? styles.selected : undefined} key={basename} row={true}>\n        <FormControlLabel\n          className={styles.filenameLabel}\n          label={basename}\n          labelPlacement=\"start\"\n          control={<div/>}/>\n        <FormControlLabel\n          className={styles.mtimeLabel}\n          label={moment(mtime).format('MMM D YY, HH:mm')}\n          labelPlacement=\"start\"\n          control={<div/>}/>\n        <Button\n          onClick={() => {\n            // trigger reload\n            localStorage.setItem('filename', basename)\n            context.modify('dontSendUpdateToServer', () => ({\n              filename: basename + '*'\n            }))\n          }}\n        >Редактировать</Button>\n        {/* Doesn't work <Button\n          onClick={() => {\n            if (window.confirm('All change history will be lost. Are you sure?')) {\n              Axios.get(backendURL + '/file/' + basename + '/prune')\n            }\n          }}\n        >Сжать</Button> */}\n        <Button\n          onClick={async () => {\n            const name = window.prompt('Please enter new filename')\n            const resp = await Axios.post(backendURL + '/file/' + basename + '/clone', {\n              name,\n            })\n            if (resp.data.error) {\n              alert(resp.data.error)\n            }\n            reload()\n          }}\n        >Клонировать</Button>\n        <Button\n          onClick={() => {\n            if (window.confirm('Include design?')) {\n              window.location.href = backendURL + '/file/' + basename + '/export'\n            } else {\n              window.location.href = backendURL + '/file/' + basename + '/export?excludeDesign=true'\n            }\n          }}\n        >Экспорт</Button>\n        {basename[0] !== '_' &&\n        <Button\n          onClick={async () => {\n            const resp = await Axios.post(backendURL + '/file/' + basename + '/archive')\n            if (resp.data.error) {\n              alert(resp.data.error)\n            }\n            reload()\n          }}\n        >В архив</Button>}\n        {basename[0] === '_' &&\n        <Button\n          onClick={async () => {\n            const resp = await Axios.post(backendURL + '/file/' + basename + '/unarchive')\n            if (resp.data.error) {\n              alert(resp.data.error)\n            }\n            reload()\n          }}\n        >Из архива</Button>}\n      </FormGroup>\n    })}\n    <FieldSet label=\"Добавить файл\">\n      <FormGroup row={true}>\n        <TextField\n          size=\"small\"\n          variant=\"outlined\"\n          label=\"Имя нового файла\"\n          value={filename === undefined ? '' : filename}\n          onChange={event => {\n            const stringValue = event.target.value\n            setFilename(stringValue)\n          }}\n        />\n        <Button onClick={addFile}>\n          Добавить новый файл\n        </Button>\n      </FormGroup>\n    </FieldSet>\n  </TabContainer>\n}\n\nexport default File\n","import React, { useContext, useCallback } from 'react'\nimport { FormControl, InputLabel, Select, MenuItem } from '@material-ui/core'\n\nimport styles from './DirectSelect.module.css'\nimport { Context } from './DirectEditorsContext'\n\nconst DirectSelect = ({ label, pointer, options, onBeforeSet, onChange, className }) => {\n  const context = useContext(Context)\n  const [value, setValue] = context.useState(pointer)\n\n  const handleChange = useCallback(async event => {\n    let value = event.target.value\n    if (value === '') {\n      value = undefined\n    }\n    if (typeof onBeforeSet === 'function') {\n      await onBeforeSet(value)\n    }\n    setValue(value)\n    if (typeof onChange === 'function') {\n      onChange()\n    }\n  }, [onBeforeSet, onChange, setValue])\n\n  return <FormControl variant=\"outlined\" margin=\"dense\" className={className}>\n    {label && <InputLabel className={styles.selectLabel}>{label}</InputLabel>}\n    <Select\n      margin=\"dense\"\n      value={value || ''}\n      onChange={handleChange}\n    >\n      {options.map(({ label, value }, i) => {\n        return <MenuItem key={i} value={value}>{label}</MenuItem>\n      })}\n    </Select>\n  </FormControl>\n}\n\nexport default DirectSelect\n","export function getHexagonColor(sector) {\n  let hexColor = '#ffffff'\n  switch(sector.type) {\n    case 'our-gates':\n    case 'their-gates':\n      hexColor = '#ffeeee'\n      break;\n    \n    case 'L1':\n      hexColor = '#f8fff8'\n      break;\n\n    case 'L5':\n      hexColor = '#eeffee'\n      break;\n\n    case 'L10':\n      hexColor = '#d0ffd0'\n      break;\n    default:\n  }\n\n  if (sector.hydro === 3000) {\n    hexColor = '#eeeeff'\n  }\n  return hexColor\n}","import React, { useContext } from 'react'\nimport TabContainer from '../../Components/TabContainer'\nimport { Context, WithNestedContext } from '../../Components/DirectEditorsContext'\nimport _ from 'lodash'\n\nimport { defaultSettings } from '../../defaultSettings'\n\nimport styles from './index.module.css'\nimport DirectSelect from '../../Components/DirectSelect'\nimport { getHexagonColor } from '../../lib/mapUtil'\n\n_.defaultsDeep(defaultSettings, {\n  ws: {\n    field: {\n      sectors: {\n        A1: {asteroids: 4, hydro: 350},\n        A2: {asteroids: 4, hydro: 350},\n        A3: {asteroids: 4, hydro: 350},\n        A4: {asteroids: 4, hydro: 350},\n\n        B1: {asteroids: 4, hydro: 350},\n        B2: {asteroids: 4, hydro: 350},\n        B3: {asteroids: 4, hydro: 350},\n        B4: {asteroids: 4, hydro: 350},\n        B5: {asteroids: 4, hydro: 350},\n\n        C1: {asteroids: 4, hydro: 350},\n        C2: {asteroids: 4, hydro: 350},\n        C3: {asteroids: 4, hydro: 350},\n        C4: {asteroids: 4, hydro: 350},\n        C5: {asteroids: 4, hydro: 350},\n        C6: {asteroids: 4, hydro: 350},\n\n        D1: {asteroids: 4, hydro: 350},\n        D2: {asteroids: 4, hydro: 350},\n        D3: {asteroids: 4, hydro: 350},\n        D4: {asteroids: 0, hydro: 0},\n        D5: {asteroids: 4, hydro: 350},\n        D6: {asteroids: 4, hydro: 350},\n        D7: {asteroids: 4, hydro: 350},\n\n        E1: {asteroids: 4, hydro: 350},\n        E2: {asteroids: 4, hydro: 350},\n        E3: {asteroids: 4, hydro: 350},\n        E4: {asteroids: 4, hydro: 350},\n        E5: {asteroids: 4, hydro: 350},\n        E6: {asteroids: 4, hydro: 350},\n\n        F1: {asteroids: 4, hydro: 350},\n        F2: {asteroids: 4, hydro: 350},\n        F3: {asteroids: 4, hydro: 350},\n        F4: {asteroids: 4, hydro: 350},\n        F5: {asteroids: 4, hydro: 350},\n\n        G1: {asteroids: 4, hydro: 350},\n        G2: {asteroids: 4, hydro: 350},\n        G3: {asteroids: 4, hydro: 350},\n        G4: {asteroids: 4, hydro: 350},\n      }\n    },\n  },\n})\n\nconst supportedCellTypes = [\n  {\n    label: '---',\n  },\n  {\n    label: 'Наши ворота',\n    value: 'our-gates',\n  },\n  {\n    label: 'Ворота врага',\n    value: 'their-gates',\n  },\n  {\n    label: 'Единичка',\n    value: 'L1',\n  },\n  {\n    label: 'Пятерка',\n    value: 'L5',\n  },\n  {\n    label: 'Десятка',\n    value: 'L10',\n  }\n]\n\n\nconst asteroidsCount = [\n  {\n    label: '3',\n    value: 3,\n  },\n  {\n    label: '4',\n    value: 4,\n  },\n  {\n    label: '5',\n    value: 5,\n  },\n  {\n    label: '6',\n    value: 6,\n  }\n]\n\nconst hydroAmount = [\n  {\n    label: '160',\n    value: 160,\n  },\n  {\n    label: '300',\n    value: 300,\n  },\n  {\n    label: '350',\n    value: 350,\n  },\n  {\n    label: '400',\n    value: 400,\n  },\n  {\n    label: '3000',\n    value: 3000,\n  }\n]\n\nconst Hexagon = ({place, sectors}) => {\n  let sector = sectors[place]\n  let hexColor = getHexagonColor(sector)\n\n  return <div className={`${styles.hexagonContainer} ${styles[place]}`} style={{\n    '--hexagonColor': hexColor\n  }}>\n    <div className={styles.trapezoidUpOut}></div>\n    <div className={styles.trapezoidDownOut}></div>\n    <div className={styles.trapezoidUpIn}></div>\n    <div className={styles.trapezoidDownIn}></div>\n    <div className={styles.hexLabel}>{place}</div>\n    {place !== 'D4' &&\n    <WithNestedContext pointer={`/${place}`}>\n      <div className={styles.cellType}>\n        <DirectSelect label=\"Тип\" pointer=\"/type\" options={supportedCellTypes} />\n      </div>\n      <div className={styles.hydro}>\n        <DirectSelect label=\"В\" pointer=\"/hydro\" options={hydroAmount} />\n      </div>\n      <div className={styles.asteroids}>\n        <DirectSelect label=\"A\" pointer=\"/asteroids\" options={asteroidsCount} />\n      </div>\n    </WithNestedContext>}\n  </div>\n}\n\nconst ChestField = () => {\n  const context = useContext(Context)\n  const [sectors] = context.useState('/ws/field/sectors')\n\n  return <TabContainer name=\"WSField\">\n    <WithNestedContext pointer=\"/ws/field/sectors\">\n      <div className={styles.mapContainer}>\n        <div className={styles.lineA}>\n          <Hexagon place=\"A1\" sectors={sectors}/>\n          <Hexagon place=\"A2\" sectors={sectors}/>\n          <Hexagon place=\"A3\" sectors={sectors}/>\n          <Hexagon place=\"A4\" sectors={sectors}/>\n        </div>\n        <div className={styles.lineB}>\n          <Hexagon place=\"B1\" sectors={sectors}/>\n          <Hexagon place=\"B2\" sectors={sectors}/>\n          <Hexagon place=\"B3\" sectors={sectors}/>\n          <Hexagon place=\"B4\" sectors={sectors}/>\n          <Hexagon place=\"B5\" sectors={sectors}/>\n        </div>\n        <div className={styles.lineC}>\n          <Hexagon place=\"C1\" sectors={sectors}/>\n          <Hexagon place=\"C2\" sectors={sectors}/>\n          <Hexagon place=\"C3\" sectors={sectors}/>\n          <Hexagon place=\"C4\" sectors={sectors}/>\n          <Hexagon place=\"C5\" sectors={sectors}/>\n          <Hexagon place=\"C6\" sectors={sectors}/>\n        </div>\n        <div className={styles.lineD}>\n          <Hexagon place=\"D1\" sectors={sectors}/>\n          <Hexagon place=\"D2\" sectors={sectors}/>\n          <Hexagon place=\"D3\" sectors={sectors}/>\n          <Hexagon place=\"D4\" sectors={sectors}/>\n          <Hexagon place=\"D5\" sectors={sectors}/>\n          <Hexagon place=\"D6\" sectors={sectors}/>\n          <Hexagon place=\"D7\" sectors={sectors}/>\n        </div>\n        <div className={styles.lineE}>\n          <Hexagon place=\"E1\" sectors={sectors}/>\n          <Hexagon place=\"E2\" sectors={sectors}/>\n          <Hexagon place=\"E3\" sectors={sectors}/>\n          <Hexagon place=\"E4\" sectors={sectors}/>\n          <Hexagon place=\"E5\" sectors={sectors}/>\n          <Hexagon place=\"E6\" sectors={sectors}/>\n        </div>\n        <div className={styles.lineF}>\n          <Hexagon place=\"F1\" sectors={sectors}/>\n          <Hexagon place=\"F2\" sectors={sectors}/>\n          <Hexagon place=\"F3\" sectors={sectors}/>\n          <Hexagon place=\"F4\" sectors={sectors}/>\n          <Hexagon place=\"F5\" sectors={sectors}/>\n        </div>\n        <div className={styles.lineG}>\n          <Hexagon place=\"G1\" sectors={sectors}/>\n          <Hexagon place=\"G2\" sectors={sectors}/>\n          <Hexagon place=\"G3\" sectors={sectors}/>\n          <Hexagon place=\"G4\" sectors={sectors}/>\n        </div>\n      </div>\n    </WithNestedContext>\n  </TabContainer>\n}\n\nexport default ChestField\n","import React, { useContext } from 'react'\n\nimport TabContainer from '../../Components/TabContainer'\nimport { Context } from '../../Components/DirectEditorsContext'\nimport _ from 'lodash'\n\nimport FieldSet from '../../Components/FieldSet'\nimport DirectSelect from '../../Components/DirectSelect'\n\nimport { defaultSettings } from '../../defaultSettings'\n\n_.defaultsDeep(defaultSettings, {\n  revision: 0,\n  filename: ''\n})\n\nconst supportedGameTypes = [\n  {\n    label: 'БЗ (майнинг)',\n    value: 'ws-mining',\n  },\n]\n\nconst Extras = () => {\n  const context = useContext(Context)\n  const [gameType] = context.useState('~/gameType')\n  const gameConfig = supportedGameTypes.find((y) => y.value === gameType)\n  if (gameConfig && gameConfig.extra) {\n    const C = gameConfig.extra\n    return <C context={context} />\n  }\n  return null\n}\n\nconst File = () => {\n  return <TabContainer name=\"Field\">\n    <FieldSet label=\"Тип игры\">\n      <DirectSelect label={'Тип игры'} pointer={'~/gameType'} options={supportedGameTypes} />\n      <Extras />\n    </FieldSet>\n  </TabContainer>\n}\n\nexport default File\n","import React, { useContext, useState, useEffect, useMemo, useCallback } from 'react'\nimport { TextField, InputAdornment } from '@material-ui/core'\n\nimport { Context } from './DirectEditorsContext'\n\nconst parsers = {\n  string: {\n    isValid: () => true,\n    parse: value => value\n  },\n  number: {\n    isValid: value => !isNaN(Number(value)) || value === undefined,\n    parse: value => {\n      if (value === undefined || value === '') {\n        return undefined\n      }\n      return parseFloat(value)\n    }\n  }\n}\n\nconst DirectInput = ({ label, disabled, pointer, type = 'number', multiplier = 1, helperText, units, defaultValue = '', inputProps = {} }) => {\n  const context = useContext(Context)\n  const parser = parsers[type] || parsers.text\n  const [contextValue, setContextValue] = context.useState(pointer)\n  const [isValid, setIsValid] = useState(parser.isValid(contextValue))\n  const [value, setValue] = useState(\n    type === 'number' \n    ? (!isNaN(contextValue) ? contextValue * multiplier : undefined)\n    : contextValue\n  )\n\n  useEffect(() => {\n    if (!isNaN(contextValue) && contextValue * multiplier !== parseFloat(value)) {\n      setValue(contextValue * multiplier)\n    }\n  }, [contextValue, value, multiplier])\n\n  const _inputProps = useMemo(() => ({\n    ...inputProps,\n    endAdornment: units ? <InputAdornment position=\"start\">{units}</InputAdornment> : undefined,\n  }), [units, inputProps])\n\n  const handleChange = useCallback(event => {\n    const parser = parsers[type]\n    const stringValue = event.target.value\n    setValue(stringValue)\n    if (parser.isValid(stringValue)) {\n      setIsValid(true)\n      if (type === 'number') {\n        const parsed = parser.parse(stringValue)\n        setContextValue(parsed === undefined ? undefined : parsed / multiplier)\n      } else {\n        setContextValue(parser.parse(stringValue))\n      }\n    } else {\n      setIsValid(false)\n    }\n  }, [setContextValue, type, multiplier])\n\n  return <TextField\n    size=\"small\"\n    variant=\"outlined\"\n    disabled={disabled}\n    InputProps={_inputProps}\n    helperText={helperText}\n    error={!isValid}\n    label={label}\n    value={value === undefined ? defaultValue : value}\n    onChange={handleChange}\n  />\n}\n\nexport default DirectInput\n","import React, { useContext, useCallback } from 'react'\nimport TabContainer from '../../Components/TabContainer'\nimport DirectInput from '../../Components/DirectInput'\nimport { Button } from '@material-ui/core'\nimport { Context, WithNestedContext } from '../../Components/DirectEditorsContext'\nimport _ from 'lodash'\n\nimport { defaultSettings } from '../../defaultSettings'\n\nimport styles from './index.module.css'\n\n\n_.defaultsDeep(defaultSettings, {\n  ws: {\n    players: [],\n  },\n})\n\nconst Players = () => {\n  const context = useContext(Context)\n  const [players, setPlayers] = context.useState('/ws/players')\n\n  const addPlayer = useCallback(() => {\n    setPlayers([...players, {}])\n  }, [setPlayers, players])\n  const removePlayer = useCallback((playerToDelete) => {\n    setPlayers([...players].filter(x => x!==playerToDelete))\n  }, [setPlayers, players])\n\n  return <TabContainer name=\"Field\">\n    <table>\n      <tr>\n        <th><span>Имя</span></th>\n\n        <th className={styles.verticalLabels} style={{width: 50}}><span>Уровень майнера</span></th>\n        <th className={styles.verticalLabels} style={{width: 75}}><span>Объем</span></th>\n        <th className={styles.verticalLabels} style={{width: 50, background: '#e1c5ed'}}><span>Удаленная добыча</span></th>\n        <th className={styles.verticalLabels} style={{width: 50, background: '#e1c5ed'}}><span>Рост добычи</span></th>\n        <th className={styles.verticalLabels} style={{width: 50, background: '#e1c5ed'}}><span>Профсоюз</span></th>\n\n        <th className={styles.verticalLabels} style={{width: 50, background: '#e1c5ed'}}><span>Обогащение</span></th>\n        <th className={styles.verticalLabels} style={{width: 50, background: '#e1c5ed'}}><span>Генезис</span></th>\n        <th className={styles.verticalLabels} style={{width: 50, background: '#e1c5ed'}}><span>Кризис</span></th>\n\n        <th className={styles.verticalLabels} style={{width: 50, background: '#edddc5'}}><span>Грузоподъемность</span></th>\n        <th className={styles.verticalLabels} style={{width: 50, background: '#edddc5'}}><span>Вручение</span></th>\n        <th className={styles.verticalLabels} style={{width: 50, background: '#edddc5'}}><span>Экспедиция</span></th>\n        <th className={styles.verticalLabels} style={{width: 50, background: '#edddc5'}}><span>Реликтовый дрон</span></th>\n\n        <th className={styles.verticalLabels} style={{width: 50, background: '#bfe3bf'}}><span>Искажение времени</span></th>\n        <th className={styles.verticalLabels} style={{width: 50, background: '#bfe3bf'}}><span>Телепорт</span></th>\n        <th className={styles.verticalLabels} style={{width: 50, background: '#bfe3bf'}}><span>Скачок</span></th>\n        <th></th>\n      </tr>\n      {players\n      .map((player, index) => {\n        return <WithNestedContext pointer={\"/ws/players/\" + index}>\n          <tr>\n            <td><DirectInput pointer=\"/name\" type=\"string\"/></td>\n            <td><DirectInput pointer=\"/minerLevel\" /></td>\n            <td><DirectInput pointer=\"/capacity\" /></td>\n\n            <td style={{width: 50, background: '#e1c5ed'}}><DirectInput pointer=\"/remoteMining\" /></td>\n            <td style={{width: 50, background: '#e1c5ed'}}><DirectInput pointer=\"/miningBoost\" /></td>\n            <td style={{width: 50, background: '#e1c5ed'}}><DirectInput pointer=\"/minerUnity\" /></td>\n            <td style={{width: 50, background: '#e1c5ed'}}><DirectInput pointer=\"/enrich\" /></td>\n            <td style={{width: 50, background: '#e1c5ed'}}><DirectInput pointer=\"/genesic\" /></td>\n            <td style={{width: 50, background: '#e1c5ed'}}><DirectInput pointer=\"/crunch\" /></td>\n            \n            <td style={{width: 50, background: '#edddc5'}}><DirectInput pointer=\"/relicsInTransport\" /></td>\n            <td style={{width: 50, background: '#edddc5'}}><DirectInput pointer=\"/entrust\" /></td>\n            <td style={{width: 50, background: '#edddc5'}}><DirectInput pointer=\"/dispatch\" /></td>\n            <td style={{width: 50, background: '#edddc5'}}><DirectInput pointer=\"/relicDrone\" /></td>\n\n\n            <td style={{width: 50, background: '#bfe3bf'}}><DirectInput pointer=\"/timeWarp\" /></td>\n            <td style={{width: 50, background: '#bfe3bf'}}><DirectInput pointer=\"/teleport\" /></td>\n            <td style={{width: 50, background: '#bfe3bf'}}><DirectInput pointer=\"/leap\" /></td>\n            <td><Button onClick={() => {\n              removePlayer(player)\n            }}>Удалить</Button></td>\n          </tr>\n        </WithNestedContext>\n      })}\n    </table>\n    \n    <Button onClick={addPlayer}>\n      Добавить игрока\n    </Button>\n  </TabContainer>\n}\n\nexport default Players\n","const miningSpeed = [\n  6.0,\n  7.5,\n  12.0,\n  24.0,\n  60.0,\n  80.0\n]\n\nexport function getMiningSpeed(minerLevel) {\n  return miningSpeed[minerLevel - 1] * 60/* per hour */ / 600 /* time slowdown */\n}\n\nconst miningBoost = [\n  2.0,\n  2.5,\n  3.0,\n  3.5,\n  4.0,\n  4.5,\n  5.0,\n  6.0,\n  7.0,\n  8.0,\n  9.0,\n  10.0,\n]\n\nexport function getMiningBoost(miningBoostLevel) {\n  return miningBoost[miningBoostLevel - 1]\n}\n\n\nconst remoteMining = [\n  0.36,\n  0.40,\n  0.45,\n  0.51,\n  0.57,\n  0.64,\n  0.72,\n  0.81,\n  0.90,\n  1\n]\n\nexport function getRemoteMining(remoteMiningLevel) {\n  return remoteMining[remoteMiningLevel - 1]\n}\n\n\nconst miningUnity = [\n  0.25,\n  0.29,\n  0.34,\n  0.39,\n  0.45,\n  0.52,\n  0.61,\n  0.71,\n  0.83,\n  1\n]\n\nexport function getMiningUnity(miningUnityLevel) {\n  return miningUnity[miningUnityLevel - 1]\n}\n\n\nconst crunchAmount = [\n  300,\n  350,\n  400,\n  450,\n  500,\n  600,\n  700,\n  800,\n  900,\n  1000,\n  1200,\n  1400\n]\n\nexport function getCrunchAmount(crunchLevel) {\n  return crunchAmount[crunchLevel - 1]\n}\n","import React, { useContext } from 'react'\nimport TabContainer from '../../Components/TabContainer'\nimport { Context } from '../../Components/DirectEditorsContext'\nimport _ from 'lodash'\n\nimport { defaultSettings } from '../../defaultSettings'\n\nimport styles from './index.module.css'\nimport { getMiningBoost, getMiningSpeed, getRemoteMining } from '../../Math/game'\n\n\n_.defaultsDeep(defaultSettings, {\n  ws: {\n    players: [],\n  },\n})\n\nconst PlayerStats = () => {\n  const context = useContext(Context)\n  const [players] = context.useState('/ws/players')\n\n  return <TabContainer name=\"Field\">\n    <table>\n      <tr>\n        <th><span>Имя</span></th>\n        <th className={styles.verticalLabels} style={{width: 50}}><span>Уровень майнера</span></th>\n        <th className={styles.verticalLabels} style={{width: 75}}><span>Объем</span></th>\n        <th className={styles.verticalLabels} style={{width: 50}}><span>Скорость добычи</span></th>\n        <th className={styles.verticalLabels} style={{width: 50}}><span>Буст</span></th>\n        <th className={styles.verticalLabels} style={{width: 50}}><span>Удаленная добыча</span></th>\n      </tr>\n      {players\n      .map((player, index) => {\n        return <tr>\n          <td>{player.name}</td>\n          <td>{player.minerLevel}</td>\n          <td>{player.capacity}</td>\n          <td>{getMiningSpeed(player.minerLevel)}</td>\n          <td>x{getMiningBoost(player.miningBoost)}</td>\n          <td>x{getRemoteMining(player.remoteMining)}</td>\n        </tr>\n      })}\n    </table>\n  </TabContainer>\n}\n\nexport default PlayerStats\n","import React, { useCallback, useContext, useEffect } from 'react'\nimport { Context } from './DirectEditorsContext'\nimport DirectSelect from './DirectSelect'\nimport styles from './PlayersSelector.module.css'\n\nconst PlayersSelector = ({ pointer, children }) => {\n\n  const context = useContext(Context)\n  const [players, setPlayers] = context.useState(pointer)\n  const [availablePlayers] = context.useState('~/ws/players')\n\n  const addPlayer = useCallback(() => {\n    setPlayers([...players, ''])\n  }, [players, setPlayers])\n  const removePlayer = useCallback((playerName) => {\n    setPlayers(players.filter(x => x !== playerName))\n  }, [players, setPlayers])\n\n  return <div className={styles.container}>\n    {players.map((playerName, i) => {\n      const playerOptions = [{name: playerName}, ...availablePlayers.filter(v => players.indexOf(v.name) === -1)].map(v => {\n        return  {\n          label: v.name,\n          value: v.name\n        }\n      })\n      return <div>\n        <DirectSelect pointer={`${pointer}/${i}`} options={playerOptions} />\n        <button className={styles.minusButton} onClick={() => removePlayer(playerName)}>-</button>\n      </div>\n    })}\n    <button onClick={addPlayer}>+</button>\n  </div>\n}\n\nexport default PlayersSelector\n","import React, { useCallback, useContext } from 'react'\nimport { HexGrid, Layout, Hexagon, GridGenerator, Text, Path } from 'react-hexgrid';\nimport TabContainer from '../../Components/TabContainer'\nimport { Context, WithNestedContext } from '../../Components/DirectEditorsContext'\nimport Button from '../../Components/Button';\nimport _ from 'lodash'\n\nimport { defaultSettings } from '../../defaultSettings'\n\nimport styles from './index.module.css'\nimport { getHexagonColor } from '../../lib/mapUtil';\nimport DirectInput from '../../Components/DirectInput';\nimport PlayersSelector from '../../Components/PlayersSelector';\nimport { getMiningBoost, getMiningSpeed, getRemoteMining } from '../../Math/game';\n\n_.defaultsDeep(defaultSettings, {\n  ws: {\n    minerGroups: [\n\n    ],\n  },\n})\n\nfunction mapToRegularNames(hexagons) {\n  const map = {}\n  let letters = ['A','B','C','D','E','F','G']\n  let shifts = [-3,-3,-3,-3,-2,-1,0]\n  hexagons.forEach(hexagon => {\n    // hexagon.q // column\n    // hexagon.s // row\n    const shortcut = letters[hexagon.q + 3] + (1 - hexagon.s - shifts[hexagon.q + 3])\n    hexagon.shortcut = shortcut\n    map[shortcut] = hexagon\n  });\n  return map\n}\n\nlet colors = ['green', 'blue', 'yellow', 'coral', 'seagreen']\nfunction getUnusedColor(minerGroups) {\n  return colors.find(color => !minerGroups.some(v => v.color === color))\n}\n\nconst TimeToCollect = () => {\n  const context = useContext(Context)\n  const [minerGroups, setMinerGroups] = context.useState('/ws/minerGroups')\n  const [sectors] = context.useState('/ws/field/sectors')\n  const [players] = context.useState('/ws/players')\n  const hexagons = GridGenerator.hexagon(3);\n  const strToHexagon = mapToRegularNames(hexagons);\n\n  const addMiningGroup = useCallback(() => {\n    setMinerGroups([...minerGroups, {\n      color: getUnusedColor(minerGroups),\n      players: [],\n      path: ''\n    }])\n  }, [minerGroups, setMinerGroups])\n  const removeMiningGroup = useCallback((groupToRemove) => {\n    setMinerGroups(minerGroups.filter(x => x !== groupToRemove))\n  }, [minerGroups, setMinerGroups])\n  return <TabContainer name=\"CollectRoutes\">\n    <div className={styles.twoColumnLayout}>\n      <div className={styles.columnOne}>\n        <HexGrid width={400} height={400}>\n          <Layout size={{ x: 7, y: 7 }} flat={true} spacing={1.1} >\n            { hexagons.map((hex, i) => {\n              return <Hexagon className={styles.cell + ' ' + styles[getHexagonColor(sectors[hex.shortcut]).replace('#', 'color-')]} key={i} q={hex.q} r={hex.r} s={hex.s}>\n                <Text className={styles.cellName}>{hex.shortcut}</Text>\n              </Hexagon>\n            }) }\n            { minerGroups.map((minerGroup, i) => {\n              if (!minerGroup.path) {\n                return <></>\n              }\n              let waypoints = getWaypoints(minerGroup)\n              return waypoints.map((from, index) => {\n                if (index === waypoints.length - 1) {\n                  return <></>\n                }\n                const to = waypoints[index+1]\n                return <g style={{\n                  stroke: 'light' + minerGroup.color,\n                  strokeWidth: 2,\n                  strokeLinecap: 'round'\n                }} ><Path start={strToHexagon[from]} end={strToHexagon[to]} /></g>\n              })\n            }) }\n          </Layout>\n        </HexGrid>\n      </div>\n      <div className={styles.columnTwo}>\n        <Button onClick={addMiningGroup}>Добавить группу майнеров</Button>\n        <div className={styles.columnLayout}>\n          {minerGroups.map((minerGroup, i) => {\n              let waypoints = getWaypoints(minerGroup)\n              const totalWaterAmount = waypoints.reduce((a, c) => {\n                return a + (sectors[c]?.hydro || 0)\n              }, 0)\n              const totalWaterCapacity = minerGroup.players.reduce((acc, playerName) => {\n                return acc + (players.find(x => x.name === playerName) || {}).capacity || 0\n              }, 0)\n              \n              const miningSpeedPerAsteroid = minerGroup.players.reduce((acc, playerName) => {\n                let player = players.find(x => x.name === playerName)\n                if (!player) {\n                  return acc\n                }\n                return acc + getMiningSpeed(player.minerLevel) * getMiningBoost(player.miningBoost) * getRemoteMining(player.remoteMining)\n              }, 0)\n\n              const totalMovementTimeHrs = (waypoints.length - 1) * 10\n\n              console.log(waypoints)\n\n              const totalMiningTimeHrs = waypoints.reduce((a,c) => {\n                return a + (sectors[c]?.hydro || 0) / (sectors[c]?.asteroids || 1)\n              }, 0) / miningSpeedPerAsteroid\n              return <WithNestedContext pointer={`/ws/minerGroups/${i}`}>\n              <div className={styles.column}>\n                <div className={styles.columnLabel}>Цвет: <span style={{background: `light${minerGroup.color}`}}>{minerGroup.color}</span></div>\n                <Button className={styles.keepTopRight} onClick={() => removeMiningGroup(minerGroup)}>Удалить</Button>\n                <DirectInput label=\"Путь\" pointer=\"/path\" type=\"string\" defaultValue=''/>\n\n                Игроки: <PlayersSelector pointer=\"/players\" />\n                <div className={styles.columnLabel}>Общий бак: {totalWaterCapacity}</div>\n                <div className={styles.columnLabel}>Всего воды: {totalWaterAmount}</div>\n                <div className={styles.columnLabel}>Скорость добычи: {miningSpeedPerAsteroid.toFixed(2)} в час</div>\n                <div className={styles.columnLabel}>Время движения: {totalMovementTimeHrs.toFixed(2)} часов</div>\n                <div className={styles.columnLabel}>Время добычи: {totalMiningTimeHrs.toFixed(2)} часов</div>\n              </div>\n            </WithNestedContext>\n          })}\n        </div>\n      </div>\n    </div>\n  </TabContainer>\n}\n\nexport default TimeToCollect\nfunction getWaypoints(minerGroup) {\n  return minerGroup.path ? minerGroup.path.split(' ').filter(x => x.length === 2) : []  \n}\n\n","import { Tabs, Tab, AppBar, Backdrop, CircularProgress, Paper, Toolbar, Typography } from '@material-ui/core'\nimport React, { useState, useContext, useEffect } from 'react'\nimport _ from 'lodash'\n\nimport './lib/StateManager'\n\nimport SportsEsportsIcon from '@material-ui/icons/SportsEsports'\n\nimport DirectEditorsContext, { Context } from './Components/DirectEditorsContext'\n\nimport File from './Tabs/File'\n\nimport WSField from './Tabs/WSField'\nimport Game from './Tabs/Game'\n\nimport styles from './App.module.css'\nimport Axios from 'axios'\nimport { backendURL } from './appSettings'\nimport produce, { applyPatches } from 'immer'\nimport { defaultSettings } from './defaultSettings'\nimport Players from './Tabs/Players'\nimport PlayerStats from './Tabs/PlayerStats'\nimport TimeToCollect from './Tabs/TimeToCollect'\n\nfunction App() {\n  return (\n    <DirectEditorsContext>\n      <AppTabs />\n    </DirectEditorsContext>\n  )\n}\n\nexport default App\n\nconst tabsByFileType = {\n  'absent': ['File'],\n  'unknown': ['File', 'Game'],\n  'ws-mining': ['File', 'Game', 'Players', 'WSField', 'PlayerStats', 'TimeToCollect'],\n}\n\nconst tabsConfig = {\n  File: {\n    name: 'File',\n    render: File,\n  },\n\n  Game: {\n    name: 'Game',\n    render: Game,\n  },\n\n  WSField: {\n    name: 'Field',\n    render: WSField,\n  },\n\n  Players: {\n    name: 'Players',\n    render: Players,\n  },\n\n  PlayerStats: {\n    name: 'PlayerStats',\n    render: PlayerStats,\n  },\n\n  TimeToCollect: {\n    name: 'TimeToCollect',\n    render: TimeToCollect,\n  }\n}\n\nfunction AppTabs() {\n  const context = useContext(Context)\n  const [contextFilename] = context.useState('/filename')\n  const isLoaded = contextFilename !== ''\n  const [selectedTab, setSelectedTab] = useState(parseInt(localStorage.getItem('openedTab')) || 0)\n  const [showBackdrop, setShowBackdrop] = useState(true)\n  const handleChange = (event, newValue) => {\n    localStorage.setItem('openedTab', newValue)\n    setSelectedTab(newValue)\n  }\n\n  let [gameType] = context.useState('~/gameType')\n  if (!gameType) {\n    gameType = 'absent'\n  }\n  if (!tabsByFileType[gameType]) {\n    gameType = 'unknown'\n    console.warn('Unknown game type')\n  }\n  const visibleTabs = tabsByFileType[gameType].map(x => tabsConfig[x])\n\n  useEffect(() => {\n    // load behavior\n    const filename = localStorage.getItem('filename')\n    if (filename !== contextFilename) {\n      setShowBackdrop(true)\n      Axios.get(backendURL + '/file/' + filename, { transformResponse: res => res }).then(({ data: content }) => {\n        const patches = content.split('\\n')\n        let currentValue = {}\n        let errorCount = 0\n        // skip empty line at the start of file\n        for (let i = 1; i < patches.length; i++) {\n          const patch = JSON.parse(patches[i])\n          switch (patch.action) {\n            case 'modify':\n              try {\n                currentValue = applyPatches(currentValue, patch.payload)\n              } catch (e) {\n                errorCount++\n                console.log(e)\n              }\n              break\n            default:\n              throw new Error('Unknown operation')\n          }\n        }\n\n        if (errorCount > 0) {\n          alert(`File is recovered. Please doublecheck everything. Unable to apply ${errorCount} patches`)\n        }\n\n        if (currentValue.filename !== filename) {\n          // it is clone\n          currentValue = produce(currentValue, (value) => {\n            value.filename = filename\n          })\n        }\n\n        // apply defaults\n        const valueWithDefaults = produce(currentValue, (value) => {\n          _.defaultsDeep(value, defaultSettings)\n        })\n\n        if (valueWithDefaults === currentValue) {\n          context.modify('dontSendUpdateToServer', () => currentValue)\n        } else {\n          context.modify(() => valueWithDefaults)\n        }\n        setShowBackdrop(false)\n      }, () => {\n        context.modify('dontSendUpdateToServer', () => defaultSettings)\n        setShowBackdrop(false)\n      })\n    }\n  }, [context, contextFilename])\n\n  return <>\n    <AppBar position=\"fixed\">\n      <Toolbar variant=\"dense\">\n        <SportsEsportsIcon />&nbsp;&nbsp;\n        <Typography variant=\"h6\">{gameType} - {context.value.filename}</Typography>\n      </Toolbar>\n    </AppBar>\n    <div className={styles.container}>\n      <div className={styles.menu}>\n        <Tabs orientation=\"vertical\" className={styles.tabs} value={isLoaded ? selectedTab : 0} onChange={handleChange} aria-label=\"simple tabs example\">\n          {visibleTabs.map(({ name }) => {\n            return <Tab key={name} label={name} />\n          })}\n        </Tabs>        \n      </div>\n      <div className={styles.content}>\n        <Paper elevation={3}>\n        {\n          visibleTabs[selectedTab] && typeof visibleTabs[selectedTab].render === 'function'\n          ? React.createElement(visibleTabs[selectedTab].render, {\n            key: visibleTabs[selectedTab].label,\n          })\n          : <File />\n        }\n        </Paper>\n      </div>\n    </div>\n    {showBackdrop && <Backdrop open={true} className={styles.backdrop}>\n      <CircularProgress color=\"inherit\" />\n    </Backdrop>}\n  </>\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister()\n      })\n      .catch(error => {\n        console.error(error.message)\n      })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"verticalLabels\":\"Players_verticalLabels__2XYvG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cell\":\"TimeToCollect_cell__1gM5N\",\"cellName\":\"TimeToCollect_cellName__2qQQ3\",\"twoColumnLayout\":\"TimeToCollect_twoColumnLayout__w8tPd\",\"columnOne\":\"TimeToCollect_columnOne__2Q7sT\",\"columnTwo\":\"TimeToCollect_columnTwo__37Q3v\",\"columnLayout\":\"TimeToCollect_columnLayout__3jc8f\",\"column\":\"TimeToCollect_column__6XaFn\",\"columnLabel\":\"TimeToCollect_columnLabel__czAph\",\"keepTopRight\":\"TimeToCollect_keepTopRight__2eqY6\",\"color-ffffff\":\"TimeToCollect_color-ffffff__1NPz8\",\"color-ffeeee\":\"TimeToCollect_color-ffeeee__2oMEy\",\"color-f8fff8\":\"TimeToCollect_color-f8fff8__1U6kP\",\"color-eeffee\":\"TimeToCollect_color-eeffee__3P05E\",\"color-d0ffd0\":\"TimeToCollect_color-d0ffd0__iJT5K\",\"color-eeeeff\":\"TimeToCollect_color-eeeeff__1foKn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FieldSet_container__3lQKl\",\"collapsed\":\"FieldSet_collapsed__2naRb\",\"title\":\"FieldSet_title__1wVzu\",\"titleTextOnly\":\"FieldSet_titleTextOnly__2YN4_\",\"designLess\":\"FieldSet_designLess__XBaxO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"App_backdrop__1J_fz\",\"tabs\":\"App_tabs__1Z93U\",\"container\":\"App_container__1MQN3\",\"menu\":\"App_menu__3dqVM\",\"content\":\"App_content__3La4L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"verticalLabels\":\"PlayerStats_verticalLabels__1Pua5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filenameLabel\":\"File_filenameLabel__10GN8\",\"mtimeLabel\":\"File_mtimeLabel__1LYAp\",\"selected\":\"File_selected__2Tjaj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"minusButton\":\"PlayersSelector_minusButton__3nR-r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TabContainer_container__70pTv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"Button_main__1l7aS\"};"],"sourceRoot":""}